<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mutu Solutions</title>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

  <style>
    :root { 
      --background-color: #ffffff; 
      --default-color: #e8e7f7; 
      --nav-color: #f3fffd;
      --nav-background-color: rgba(0, 0, 0, 0.7); 
      --heading-color: #ffffff; 
      --surface-color: #131428; 
      --contrast-color: #ffffff; 
      --about-color: #131428;
      --about-p-color: #e8e7f7;
      --font-color: #000000;
    }

    html, body {
      height: 100%;
      margin: 0;
      background: var(--background-color);
      font-family: 'Inter', 'Segoe UI', sans-serif;
      color: #fff;
    }

    /* Loader */
    .loader {
      position: fixed;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 100;
      background: var(--surface-color);
    }
    .loader h2 {
      font-size: 2vw;
      font-weight: 400;
      color: var(--nav-color);
      margin: 0;
    }

    /* Navbar */
    header {
      position: fixed;
      top: 15px;
      left: 50%;
      transform: translateX(-50%);
      width: auto;
      z-index: 100;
      background: var(--nav-background-color);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-radius: 40px;
      padding: 0px 30px;
      border: 5px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      transition: all 0.3s ease;
    }

    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 5px 0;
    }

    .logo img {
      width: auto;
      height: 30px;
      object-fit: contain;
      transition: transform 0.3s ease;
      margin-right: 40px;
    }

    .logo img:hover {
      transform: scale(1.05);
    }

    nav {
      display: flex;
      gap: 5px;
      list-style: none;
      margin: 0;
      padding: 0;
    }

    nav li {
      list-style: none;
    }

    nav a {
      text-decoration: none;
      font-size: 1vw;
      color: #f3fffd;
      transition: all 0.3s ease;
      padding: 8px 16px;
      border-radius: 25px;
      display: block;
    }

    nav a:hover {
      color: #000;
      background: rgba(255, 254, 254, 0.1);
      transform: translateY(-2px);
    }

    .hamburger {
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      width: 35px;
      height: 25px;
      gap: 5px;
    }

    .hamburger span {
      width: 100%;
      height: 3px;
      background: var(--nav-color);
      border-radius: 3px;
      transition: all 0.3s ease;
    }

    .hamburger.active span:nth-child(1) {
      transform: rotate(45deg) translate(5px, 5px);
    }

    .hamburger.active span:nth-child(2) {
      opacity: 0;
    }

    .hamburger.active span:nth-child(3) {
      transform: rotate(-45deg) translate(5px, -5px);
    }

    .canvas-wrapper {
      position: relative;
      width: 100%;
      height: 100vh;
    }

    canvas#sequence {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: block;
      background: #000;
    }

    /* Text overlay container */
    .sequence-text {
      position: absolute;
      top: 85%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 20;
      pointer-events: none;
    }

    .sequence-text h1 {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      white-space: nowrap;
      font-size: 4vw;
      font-weight: 700;
      color: #f3fffd;
      margin: 0;
      opacity: 0;
      display: flex;
    }

    .sequence-text h1 span {
      display: inline-block;
      opacity: 0;
    }

    /* About Section Styling */
    .about-container {
      position: relative;
      min-height: 90vh;
      background: #ffffff;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 100px 20px;
      overflow: hidden;
      z-index: 4;
    }
    .about {
      position: relative;
      max-width: 1000px;
      width: 100%;
      z-index: 2;
      opacity: 0;
      transform: translateY(50px);
      
    }
    .about p {
      font-size: max(3.775rem, min(3.688vw, 120px));
      letter-spacing: min(-.141vw, -3.6px);
      line-height: 1.8;
      color: #000000;
      margin: 0;
      position: relative;
      z-index: 1;
      font-weight: 350;
      text-align: center;
    }   

    /* Services Section */
    .services-container {
      display: flex;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      padding: 80px 60px;
      max-width: 100%;
      margin: 0;
    }

    .services-content {
      display: grid;
      grid-template-columns: 45% 55%;
      gap: 0;
      width: 100%;
      align-items: center;
      max-width: 1600px;
    }

    .left {
      position: relative;
      min-height: 500px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      padding-right: 40px;
      padding-left: 40px;
      margin-top: -400px;
    }

    .service-item {
      position: absolute;
      top: 50%;
      left: 0;
      right: 0;
      transform: translateY(-50%);
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.6s ease, transform 0.6s ease;
      width: 100%;
    }

    .service-item.active {
      opacity: 1;
      pointer-events: auto;
    }

    .service-item.prev {
      opacity: 0;
      transform: translateY(-100%);
    }

    .service-item.next {
      opacity: 0;
      transform: translateY(100%);
    }

    .service-item h2 {
     font-size: max(3.775rem, min(3.688vw, 120px));
      letter-spacing: min(-.141vw, -3.6px);
      font-weight: 350;
      line-height: 1.2;
      margin: 0 0 40px 0;
      color: #1a1a1a;
      
    }

    .service-number {
      display: block;
      font-size: clamp(1rem, 1.2vw, 1.2rem);
      color: #999;
      font-weight: 300;
      margin-bottom: 20px;
      letter-spacing: 0.1em;
    }

    .service-description {
      font-size: clamp(1rem, 1.2vw, 1.2rem);
      color: #666;
      line-height: 1.6;
      font-weight: 300;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.6s ease 0.2s, transform 0.6s ease 0.2s;
    }

    .service-item.active .service-description {
      opacity: 1;
      transform: translateY(0);
    }

    .right {
      position: sticky;
      margin-top: 350px;
      transform: translateY(-50%);
      width: 100%;
      height: 100vh;
      max-height: 700px;
      padding-left: 40px;
    }

    .video-container {
      position: relative;
      width: 100%;
      height: 100%;
      border-radius: 24px;
      overflow: hidden;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
    }

    .video-container video {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0;
      transition: opacity 0.5s ease;
      margin-right: -100px;
    }

    .video-container video.active {
      opacity: 1;
    }
    .empower {
      text-align: center;
      padding: 60px 20px;
      background: var(--background-color);
    }
    .empower h2 {
      font-size: max(3.775rem, min(3.688vw, 120px));
      letter-spacing: min(-.141vw, -3.6px);
      line-height: 1.8;
      color: #000000;
      margin: 0;
      position: relative;
      z-index: 1;
      font-weight: 350;
      text-align: center;
    }

    /* Video Slider Container */
    .video-slider-container {
      position: relative;
      width: 100%;
      height: 100vh;
      overflow: hidden;
      z-index: 50;
    }

    .video-slider-wrapper {
      position: relative;
      width: 100%;
      height: 100vh;
    }

    .video-slider {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 70vh;
      overflow: hidden;
    }

    .video-slider video {
      width: 100%;
      height: 100%;
      object-fit: cover;
      position: absolute;
      top: 0;
      left: 0;
      opacity: 0;
      transition: opacity 0.6s ease;
    }

    .video-slider video.active {
      opacity: 1;
    }

    .video-slider-text {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 30vh;
      background: #ffffff;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
    }

    .text-item {
      position: absolute;
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 60px;
      opacity: 0;
      transition: opacity 0.6s ease;
    }

    .text-item.active {
      opacity: 1;
    }

    .text-item h3 {
      font-size: 2rem;
      margin: 0;
      color: #1a1a1a;
      font-weight: 600;
      max-width: 40%;
      margin-left: 40px;
    }

    .text-item p {
      font-size: 1.1rem;
      max-width: 50%;
      text-align: center;
      color: #666;
      line-height: 1.6;
      margin-right: 30px;
    }
    .demo-container {
      background: var(--background-color);
      padding: 80px 20px;
      text-align: center;
    }
    .demo-container h2 {
      font-size: max(3.775rem, min(3.688vw, 120px));
      letter-spacing: min(-.141vw, -3.6px);
      line-height: 1.8;
      color: var(--font-color);
      margin-bottom: 40px;
      font-weight: 350;
    }
    
    .demo-text-1, .demo-text-2 {
      max-width: 800px;
      margin: 0 auto 40px auto;
      font-size: clamp(1rem, 1.2vw, 1.2rem);
      color: var(--font-color);
      line-height: 1.6;
      font-weight: 300;
    }
    .demo-live {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: center;
      gap: 40px;
      padding: 80px 20px;
      background: var(--default-color);
    }
    .live-demo {
      flex: 1 1 400px;
      max-width: 600px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
      border-radius: 24px;
    }
    .live-demo img {
      width: 100%;
      height: auto;
      border-radius: 24px;
      display: block;
    }
    .live-demo-text {
      flex: 1 1 300px;
      max-width: 500px;
      color: var(--font-color);
    }

     /* Responsive */
    @media (max-width: 1024px) {
      .services-container {
        padding: 60px 40px;
      }

      .services-content {
        grid-template-columns: 1fr 1fr;
        gap: 40px;
      }

      .left {
        padding-right: 20px;
        padding-left: 20px;
      }

      .right {
        height: 500px;
        padding-left: 20px;
      }

      .service-item h2 {
        font-size: clamp(2rem, 4vw, 3.5rem);
        margin-bottom: 30px;
      }
    }
    @media (max-width: 900px) {
      header {
        width: 90%;
        border-radius: 25px;
        padding: 10px 20px;
      }

      nav {
        position: absolute;
        top: 70px;
        right: 0;
        background: rgba(0, 0, 0, 0.9);
        border-radius: 10px;
        flex-direction: column;
        align-items: flex-start;
        width: 100%;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease;
      }

      nav.open {
        max-height: 300px;
        padding: 10px 0;
      }

      nav a {
        width: 100%;
        font-size: 16px;
        padding: 12px 20px;
      }

      .hamburger {
        display: flex;
      }
      .text-item{
        display: grid;
        \margin-top: 20px;
      }
      .text-item h3, .text-item p {
        margin-left: 10px;
      }
      
      
    }

    

    @media (max-width: 768px) {
      .about-content {
        padding: 50px 30px;
      }

      .services-container {
        padding: 60px 20px;
      }

      .services-content {
        grid-template-columns: 1fr;
        gap: 60px;
      }

      .left {
        min-height: 400px;
        padding-right: 0;
        padding-left: 0;
      }

      .right {
        position: relative;
        top: auto;
        transform: none;
        width: 100%;
        height: 400px;
        padding-left: 0;
      }

      .service-item h2 {
        font-size: clamp(1.8rem, 5vw, 2.5rem);
        margin-bottom: 20px;
      }
    }

    @media (max-width: 480px) {

      .about p{
        font-size: 2.5rem;
        line-height: 1.4;
      }

      .services-container {
        padding: 40px 15px;
      }

      .left {
        min-height: 350px;
      }

      .right {
        height: 300px;
      }

      .video-container {
        border-radius: 15px;
      }

      .service-item h2 {
        font-size: clamp(1.5rem, 5vw, 2rem);
      }

      .service-number {
        font-size: 0.9rem;
      }

      .service-description {
        font-size: 1rem;
      }
    }

    /* Responsive */
    @media (max-width: 768px) {
      .text-item {
        flex-direction: column;
        align-items: flex-start;
        padding: 30px;
        gap: 15px;
      }

      .text-item h3,
      .text-item p {
        max-width: 100%;
        text-align: left;
      }

      .text-item h3 {
        font-size: 1.5rem;
      }

      .text-item p {
        font-size: 1rem;
      }
    }
    

  </style>
</head>
<body>

  <div class="loader"><h2 id="progress-text">Loading 0%</h2></div>

  <header>
    <div class="navbar">
      <div class="logo">
        <a href="index.html">
          <img src="./assets/logomutu.png" alt="Mutu Solutions Logo">
        </a>
      </div>

      <div class="hamburger" id="hamburger">
        <span></span>
        <span></span>
        <span></span>
      </div>

      <nav id="navMenu">
        <li><a href="#home">Home</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="#services">Services</a></li>
        <li><a href="#demo-live">Demo</a></li>
      </nav>
    </div>
  </header>

  <div class="canvas-wrapper">
    <canvas id="sequence"></canvas>
    <div class="sequence-text">
      <h1 id="text1"></h1>
      <h1 id="text2"></h1>
      <h1 id="text3"></h1>
    </div>
  </div>

  <section id="about" class="about-container">
    <div class="about">
      <div class="about-content">
        <p>MUTU Solutions delivers seamless logistics, integrating ground, air, and warehousing to make your supply chain visible and efficient.</p>
      </div>
    </div>
  </section>

  <section class="services" id="services">
    <div class="services-container">
      <div class="services-content">
        <div class="left">
          <div class="service-item" data-service="0">
            <h2>Optimizes fleet management and delivery routes</h2>
          </div>
          <div class="service-item" data-service="1">
            <h2>Streamlines inventory control and storage operations</h2>
          </div>
          <div class="service-item" data-service="2">
            <h2>Manages and tracks sea and freight shipments</h2>
          </div>
          <div class="service-item" data-service="3">
            <h2>Handles personnel, payroll, and driver management</h2>
          </div>
          <div class="service-item" data-service="4">
            <h2>Enables seamless electronic data exchange with partners</h2>
          </div>
          <div class="service-item" data-service="5">
            <h2>Enhances visibility and tracking of shipments</h2>
          </div>
        </div>

        <div class="right">
          <div class="video-container">
            <video src="./assets/transport1.mp4" data-video="0" loop muted playsinline></video>
            <video src="./assets/shipping.mp4" data-video="1" loop muted playsinline></video>
            <video src="./assets/warehouse.mp4" data-video="2" loop muted playsinline></video>
            <video src="./assets/transport1.mp4" data-video="3" loop muted playsinline></video>
            <video src="./assets/shipping.mp4" data-video="4" loop muted playsinline></video>
            <video src="./assets/warehouse.mp4" data-video="5" loop muted playsinline></video>
          </div>
        </div>
      </div>
    </div>
  </section>

  <div class="empower">
    <h2>Empowering Your Business with Tailored Logistics Solutions</h2>
  </div>


  <div class="video-slider-container">
    <div class="video-slider-wrapper">
      <div class="video-slider">
        <video src="./assets/transport1.mp4" 
               data-video="0" muted loop playsinline></video>
        <video src="./assets/shipping.mp4" 
               data-video="1" muted loop playsinline></video>
        <video src="./assets/warehouse.mp4" 
               data-video="2" muted loop playsinline></video>
        <video src="./assets/transport1.mp4" 
               data-video="3" muted loop playsinline></video>
      </div>

      <div class="video-slider-text">
        <div class="text-item" data-text="0">
          <h3>Intelligent Ground <br>Transportation Network</h3>
          <p>Experience seamless overland logistics through our intelligent ground transport system. MUTU Solutions integrates advanced route optimization, fleet monitoring, and predictive analytics to minimize transit time and fuel consumption while ensuring safe and reliable deliveries across every destination.</p>
        </div>

        <div class="text-item" data-text="1">
          <h3>Global Sea Freight <br>and Maritime Solutions</h3>
          <p>Our end-to-end sea freight services connect major international trade routes with precision. With real-time vessel tracking, automated documentation, and strategic port partnerships, MUTU Solutions ensures cost-effective, transparent, and sustainable ocean freight operations for businesses of all scales.</p>
        </div>

        <div class="text-item" data-text="2">
          <h3>Smart Warehousing <br>and Distribution Management</h3>
          <p>Optimize your supply chain with our high-tech warehousing facilities equipped with AI-driven inventory systems and climate-controlled storage. We manage goods from intake to dispatch, ensuring real-time visibility, accuracy, and faster order fulfillment for your operations.</p>
        </div>

        <div class="text-item" data-text="3">
          <h3>Reliable and Rapid <br>Last-Mile Delivery</h3>
          <p>Deliver exceptional customer experiences with our agile last-mile delivery network. Using advanced location intelligence, flexible scheduling, and eco-friendly vehicles, we guarantee timely, transparent, and efficient deliveries to every doorstepâ€”completing your logistics journey with precision.</p>
        </div>
      </div>

    </div>
  </div>
  <div class="demo-container">
   <h2>How We Simplify Your Process</h2>

   <div class="demi-text">
    <div class="demo-text-1">
      <p>Experience a seamless logistics journey with MUTU Solutions. From the moment you place an order to the final delivery, our integrated platform ensures every step is efficient and transparent. Our advanced tracking system keeps you informed in real-time, while our optimized routes and inventory management reduce costs and improve delivery times. With MUTU Solutions, you can focus on growing your business while we handle the complexities of logistics.</p>
    </div>
    <div class="demo-text-2">
      <p>Our commitment to sustainability means we continuously seek eco-friendly solutions, from optimizing delivery routes to reducing packaging waste. With MUTU Solutions, you can enhance your brand's reputation while contributing to a greener planet.</p>
    </div>
   </div>
  </div>

  <div class="demo-live" id="demo-live">
    <div class="live-demo">
      <img src="./assets/demodashboard.gif" alt="">
    </div>
    <div class="live-demo-text">
      <h2>Product Demo</h2>
      <p>Watch our product demo to see how MUTU Solutions can transform your logistics operations.</p>
      <a href="#">Learn More</a>
    </div>
  </div>
  


  <script>
    const hamburger = document.getElementById('hamburger');
    const navMenu = document.getElementById('navMenu');

    hamburger.addEventListener('click', () => {
      hamburger.classList.toggle('active');
      navMenu.classList.toggle('open');
    });

   (function () {
      gsap.registerPlugin(ScrollTrigger);

      const frameCount = 125;
      const framePath = i => `images/frame_${String(i).padStart(4,'0')}.jpg`;
      const images = [];
      let loadedCount = 0;

      const canvas = document.getElementById('sequence');
      const ctx = canvas.getContext('2d');
      const loader = document.querySelector('.loader');
      const progressText = document.getElementById('progress-text');
      const text1 = document.getElementById('text1');
      const text2 = document.getElementById('text2');
      const text3 = document.getElementById('text3');

      const texts = [
        { element: text1, content: 'Digital Transformation' },
        { element: text2, content: 'For Logistics Leaders' },
        { element: text3, content: 'Built on ServiceNow' }
      ];

      texts.forEach(({ element, content }) => {
        element.innerHTML = '';
        content.split('').forEach(char => {
          const span = document.createElement('span');
          span.textContent = char === ' ' ? '\u00A0' : char;
          element.appendChild(span);
        });
      });

      const letters1 = text1.querySelectorAll('span');
      const letters2 = text2.querySelectorAll('span');
      const letters3 = text3.querySelectorAll('span');

      function sizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      }
      sizeCanvas();

      function drawImageScaled(img) {
        if (!img) return;
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        const scale = Math.max(canvas.width / img.width, canvas.height / img.height);
        const w = img.width * scale;
        const h = img.height * scale;
        const x = (canvas.width - w) / 2;
        const y = (canvas.height - h) / 2;
        ctx.drawImage(img, x, y, w, h);
      }

    async function preloadAll() {
      const promises = [];
      for (let i = 1; i <= frameCount; i++) {
        const url = framePath(i);
        const p = fetch(url)
          .then(r => r.blob())
          .then(blob => createImageBitmap(blob))
          .then(bitmap => {
            images[i] = bitmap;
            loadedCount++;
            progressText.textContent = `Loading ${Math.round(loadedCount / frameCount * 100)}%`;
          })
          .catch(err => console.error('frame load error', url, err));
        promises.push(p);
      }
      await Promise.all(promises);
      onAllLoaded();
    }

    function onAllLoaded() {
      gsap.to(loader, {
        opacity: 0,
        duration: 0.6,
        ease: 'power2.out',
        onComplete() {
          loader.style.display = 'none';
          drawImageScaled(images[1]);

          // Initialize all animations in order
          startSequenceScroll();
          animateAboutSection();
          animateServicesSection();

          setTimeout(() => {
            animateVideoSliderSection();
          }, 800);
        }
      });
    }

  function startSequenceScroll() {
    const frameObj = { index: 1 };
    const scrollLength = frameCount * 20; //scroll speed

    gsap.to(frameObj, {
      index: frameCount,
      ease: "none",
      snap: v => Math.round(v),
      scrollTrigger: {
        trigger: '.canvas-wrapper',
        start: "top top",
        end: "+=" + scrollLength,
        scrub: 0.6,
        pin: true,
        anticipatePin: 1,
        onUpdate: self => {
          const idx = Math.min(Math.max(Math.round(frameObj.index), 1), frameCount);
          drawImageScaled(images[idx]);

          const progress = self.progress;

          if (progress < 0.05) {
            text1.style.opacity = 0; text2.style.opacity = 0; text3.style.opacity = 0;
          } else if (progress < 0.35) {
            text1.style.opacity = 1; text2.style.opacity = 0; text3.style.opacity = 0;
            const localProgress = (progress - 0.05) / 0.3;
            letters1.forEach((letter, i) => {
              letter.style.opacity = localProgress > i / letters1.length ? 1 : 0;
            });
          } else if (progress < 0.68) {
            text1.style.opacity = 0; text2.style.opacity = 1; text3.style.opacity = 0;
            const localProgress = (progress - 0.35) / 0.33;
            letters2.forEach((letter, i) => {
              letter.style.opacity = localProgress > i / letters2.length ? 1 : 0;
            });
          } else {
            text1.style.opacity = 0; text2.style.opacity = 0; text3.style.opacity = 1;
            const localProgress = (progress - 0.68) / 0.32;
            letters3.forEach((letter, i) => {
              letter.style.opacity = localProgress > i / letters3.length ? 1 : 0;
            });
          }
        },
        onLeave: () => {
          drawImageScaled(images[frameCount]);
          gsap.to([text1, text2, text3], {
            opacity: 0,
            duration: 0.3
          });
        },
        onEnterBack: () => {
          text3.style.opacity = 1;
        }
      }
    });
  }

  function animateAboutSection() {
    const aboutSection = document.querySelector('.about');

    gsap.to(aboutSection, {
      opacity: 1,
      y: 0,
      duration: 1.2,
      ease: 'power3.out',
      scrollTrigger: {
        trigger: '.about-container',
        start: 'top 80%',
        end: 'top 20%',
        toggleActions: 'play none none reverse'
      }
    });
  }

  function animateServicesSection() {
    const serviceItems = document.querySelectorAll('.service-item');
    const videos = document.querySelectorAll('.video-container video');
    const totalServices = serviceItems.length;
    let currentIndex = 0;

    serviceItems[0].classList.add('active');
    videos[0].classList.add('active');
    videos[0].play();

    const scrollDistance = window.innerHeight * 0.8;
    const totalScrollDistance = scrollDistance * (totalServices - 1);

    ScrollTrigger.create({
      trigger: '.services',
      start: 'top top',
      end: `+=${totalScrollDistance}`,
      pin: '.services-container',
      onUpdate: (self) => {
        const progress = self.progress;
        const newIndex = Math.min(Math.floor(progress * totalServices), totalServices - 1);
        
        if (newIndex !== currentIndex) {
          switchService(newIndex);
        }
      },
      onEnter: () => {
        if (videos[currentIndex]) {
          videos[currentIndex].play();
        }
      }
    });

    function switchService(newIndex) {
      const oldIndex = currentIndex;
      
      serviceItems.forEach((item, index) => {
        item.classList.remove('active', 'prev', 'next');
        
        if (index === newIndex) {
          item.classList.add('active');
        } else if (index < newIndex) {
          item.classList.add('prev');
        } else {
          item.classList.add('next');
        }
      });

      videos.forEach(video => {
        video.classList.remove('active');
        video.pause();
      });
      
      videos[newIndex].classList.add('active');
      videos[newIndex].currentTime = 0;
      videos[newIndex].play();

      currentIndex = newIndex;
    }
  }

  let resizeTimeout;
  window.addEventListener('resize', () => {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(() => {
      sizeCanvas();
      ScrollTrigger.refresh(true);
      const currentFrame = Math.round(frameObj?.index || 1);
      drawImageScaled(images[currentFrame]);
    }, 120);
  });

  preloadAll();
})();

function animateVideoSliderSection() {
  const videos = document.querySelectorAll('.video-slider video');
  const texts = document.querySelectorAll('.text-item');
  const section = document.querySelector('.video-slider-container');
  const totalSlides = videos.length;

  videos[0].classList.add('active');
  texts[0].classList.add('active');
  videos[0].play();

  const scrollDistance = window.innerHeight * (totalSlides - 1);

  ScrollTrigger.create({
    trigger: section,
    start: "top top",
    end: `+=${scrollDistance}`,
    pin: true,
    scrub: 1,
    onUpdate: (self) => {
      const progress = self.progress;
      const newIndex = Math.min(Math.floor(progress * totalSlides), totalSlides - 1);

      videos.forEach((video, i) => {
        if (i === newIndex) {
          if (!video.classList.contains("active")) {
            videos.forEach(v => { v.pause(); v.classList.remove("active"); });
            texts.forEach(t => t.classList.remove("active"));
            video.classList.add("active");
            texts[newIndex].classList.add("active");
            video.currentTime = 0;
            video.play();
          }
        }
      });
    },
    onEnter: () => videos[0].play(),
    onLeave: () => videos.forEach(v => v.pause())
  });
}

function onAllLoaded() {
  gsap.to(loader, {
    opacity: 0,
    duration: 0.6,
    ease: 'power2.out',
    onComplete() {
      loader.style.display = 'none';
      drawImageScaled(images[1]);
      startSequenceScroll();
      animateAboutSection();
      animateServicesSection();
      animateVideoSliderSection(); 
    }
  });
}


  </script>
</body>
</html>